<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
<style>
body {font:13px Tahoma, Helvetica, Arial, "\5b8b\4f53", sans-serif; color:#333; margin:1px 0 1px 0; }
#setting a, div {width: 100px; height: 22px; line-height:22px; text-align:center; cursor:pointer; display:none;}
div:hover {background: #e4f4fd; }
#setting {display: block;}
#setting a {display:block;}
</style>
</head>
<body>
<div id="on" onclick="window.close();">开启亦歌</div>
<div id="closeIP" onclick="window.close();">隐藏歌词</div>
<div id="openIP" onclick="window.close();">显示歌词</div>
<div id="off" onclick="window.close();">关闭亦歌</div>
<!--
<div id="setting" onclick="window.close();"><a href="options_page.html" target="_blank">设置</a></div>
-->
<script>
/* 根据当前status显示选项 */

var onEle = document.getElementById('on');
var closeIPEle = document.getElementById('closeIP');
var openIPEle = document.getElementById('openIP');
var offEle = document.getElementById('off');

var bg = chrome.extension.getBackgroundPage();
var status = bg.getStatus();
switch (status) {
	case 'off':
		onEle.addEventListener('click', function(){
			bg.on();
		});
		onEle.style.display = 'block';
	break;
	default:
		offEle.addEventListener('click', function(){
			bg.off();
		});
		offEle.style.display = 'block';
		if (bg.infoPaneIsClose()) {
			openIPEle.addEventListener('click', function(){
				bg.showInfoPane();
			});
			openIPEle.style.display = 'block';
		} else {
			closeIPEle.addEventListener('click', function(){
				bg.closeInfoPane();
			});
			closeIPEle.style.display = 'block';
		}
	break;
}
</script>
</body>
</html>
